{
  "title": "Pr√©sentation du Starter Blog Tailwind Next-js V 2.0",
  "date": "2023-08-05T00:00:00.000Z",
  "language": "fr",
  "localeid": "releasev2",
  "image": "/images/image-placeholder.png",
  "categories": [
    "code"
  ],
  "tags": [
    "next-js",
    "tailwind",
    "guide",
    "fonctionnalites"
  ],
  "lastmod": "2023-08-05T00:00:00.000Z",
  "draft": false,
  "summary": "Pr√©sentation du mod√®le Starter Blog Tailwind Next-js v2.0, refactoris√© avec le r√©pertoire Nextjs App et la configuration des composants React Server. D√©couvrez les nouvelles fonctionnalit√©s et comment migrer √† partir de la V1.",
  "body": {
    "raw": "\n## Introduction\n\nBienvenue dans le nouveau mod√®le de Starter Blog Tailwind Nextjs v2.0. Cette version est une refactorisation majeure de la base de code pour prendre en charge le r√©pertoire Nextjs App et les composants React Server. Lisez la suite pour d√©couvrir les nouvelles fonctionnalit√©s et comment migrer depuis la V1.\n\n<TOCInline toc={props.toc} exclude=\"Introduction\" />\n\n## De la V1 √† la V2\n\n![Github Traffic](images/blog/github-traffic.png)\n\nLe mod√®le a √©t√© publi√© pour la premi√®re fois en janvier 2021 et a depuis √©t√© utilis√© par des milliers d'utilisateurs. Il a √©t√© pr√©sent√© sur [Mod√®les Next.js](https://vercel.com/templates/next.js/tailwind-css-starter-blog), [Tailwind Awesome](https://www.tailwindawesome.com/resources /tailwind-nextjs-starter-blog) parmi d'autres sites de r√©f√©rencement. Il attire chaque jour plus de 200 visiteurs uniques, avec entre 1 500 et 2 000 pages vues, avec 13 000 forks et de nombreux autres clones.\n\nUn grand merci √† la communaut√© d'utilisateurs et de contributeurs pour avoir fait de ce mod√®le un succ√®s ! J'ai cr√©√© un petit montage vid√©o des blogs (tout en nettoyant la liste dans le readme) pour mettre en valeur la diversit√© des blogs cr√©√©s gr√¢ce au mod√®le et c√©l√©brer cette √©tape importante:\n\n<video controls>\n  <source\n    src=\"https://github-production-user-asset-6210df.s3.amazonaws.com/28362229/258559849-2124c81f-b99d-4431-839c-347e01a2616c.webm\"\n    type=\"video/webm\"\n  />\n</video>\n\nLa version 2 s'appuie sur le succ√®s de la version pr√©c√©dente et introduit de nombreuses nouvelles fonctionnalit√©s et am√©liorations. La base de code a √©t√© refactoris√©e pour prendre en charge l'app router de Next.js et les composants React server. Markdown / MDX est d√©sormais trait√© √† l'aide de Contentlayer, un SDK de contenu \"typesafe\" gr√¢ce √† typescript, qui valide et transforme votre contenu en donn√©es JSON de type s√©curis√©. Il s'int√®gre √† Pliny, une nouvelle biblioth√®que qui fournit des composants Next.js pr√™ts √† l'emploi pour am√©liorer votre site statique avec des analyses, des commentaires et un abonnement √† la newsletter. Un nouveau composant de recherche avec palette de commandes (‚åò-k) a √©galement √©t√© ajout√© au mod√®le.\n\nPlongeons dans les nouvelles fonctionnalit√©s et am√©liorations de la V2.\n\n## R√©pertoire d'application Next.js et composants Server React\n\nMaintenant que l'[app router de Next.js](https://nextjs.org/docs/app) est enfin stable et est principalement compatible avec Page Router, la base de code a √©t√© migr√©e vers une nouvelle configuration. Cela permet une approche de rendu hybride, avec l'utilisation de composants React Server g√©n√©r√©s c√¥t√© serveur pour des chargements de pages plus rapides et des tailles de bundle plus petites, tout en conservant la possibilit√© d'int√©grer les composants React c√¥t√© client pour l'interactivit√©.[^1]\n\nAvec des possibilit√©s suppl√©mentaires survient un [nouveau paradigme](https://nextjs.org/docs/getting-started/react-essentials) et son lot d'apprentissage. J'ai migr√© la base de code pour utiliser au maximum les nouvelles fonctionnalit√©s. Cela inclut des modifications dans la structure des dossiers, la division des composants en composants serveur et clients, l'exploitation de la r√©cup√©ration de donn√©es c√¥t√© serveur et l'utilisation des [m√©tadonn√©es] recommand√©es (https://nextjs.org/docs/app/building-your-application/optimizing/metadata ), API pour le SEO.\n\nBien que cela simplifie dans une certaine mesure la base de code, cela rend aussi la migration √† partir de l'ancienne base de code plus difficile. Si vous souhaitez migrer, je vous recommande de partir d'un nouveau mod√®le et de copier vos personnalisations et votre contenu existant. Consultez la section [recommandations de migration](#migration-recommendations) pour plus de d√©tails.\n\n## Typescript First\n\nLa base de code a √©t√© migr√©e vers Typescript. Alors que la version pr√©c√©dente du mod√®le √©tait disponible en Javascript et Typescript, j'ai d√©cid√© de r√©duire la charge de maintenance et de me concentrer sur Typescript. Cela permet √©galement une meilleure v√©rification de type et une meilleure compl√©tion du code dans les IDE.\n\nTypescript correspond √©galement parfaitement √† notre nouveau processeur remark s√©curis√© - Contentlayer.\n\n## Contentlayer\n\n[Contentlayer](https://www.contentlayer.dev/) est un SDK de contenu qui valide et transforme votre contenu en donn√©es JSON de type s√©curis√© que vous pouvez facilement importer dans votre application. Cela facilite le travail avec des fichiers markdown locaux ou MDX. Cela permets de remplacer ¬´MDX-bundler¬ª et notre propre workflow de traitement markdown.\n\nTout d'abord, une source de contenu est d√©finie, sp√©cifiant le nom du type de document, la source o√π il se trouve ainsi que les champs de premier plan et tous les champs calcul√©s suppl√©mentaires qui doivent √™tre g√©n√©r√©s dans le cadre du processus.\n\n```ts:contentlayer.config.ts\nexport const Blog = defineDocumentType(() => ({\n  name: 'Blog',\n  filePathPattern: 'blog/**/*.mdx',\n  contentType: 'mdx',\n  fields: {\n    title: { type: 'string', required: true },\n    date: { type: 'date', required: true },\n    tags: { type: 'list', of: { type: 'string' }, default: [] },\n    ...\n  },\n  computedFields: {\n    readingTime: { type: 'json', resolve: (doc) => readingTime(doc.body.raw) },\n    slug: {\n      type: 'string',\n      resolve: (doc) => doc._raw.flattenedPath.replace(/^.+?(\\/)/, ''),\n    }\n    ...\n  },\n}))\n```\n\nContentlayer traite ensuite les fichiers MDX avec les plugins de Remark ou de Rehype de markdown souhait√©s, valide le sch√©ma, g√©n√®re des d√©finitions de type et g√©n√®re des fichiers json qui peuvent √™tre facilement import√©s dans nos pages. Le rechargement √† chaud est pr√™t √† l'emploi, de sorte que les modifications apport√©es aux fichiers markdown seront imm√©diatement refl√©t√©es dans le navigateur!\n\n## Pliny\n\nLa popularit√© du mod√®le s'explique en grande partie par sa personnalisation et son int√©gration avec d'autres services, des fournisseurs d'analyse aux solutions de commentaires. Cependant, cela signifie qu'une grande partie du code passe-partout doit √™tre colocalis√© dans le mod√®le m√™me si l'utilisateur n'utilise pas la fonctionnalit√©. Les mises √† jour et les corrections de bugs devaient √™tre copi√©es manuellement dans la base de code de l'utilisateur.\n\nPour r√©soudre ce probl√®me, j'ai r√©sum√© la logique dans un r√©pertoire s√©par√© - [Pline](https://github.com/timlrx/pliny). Pliny fournit des composants Next.js pr√™ts √† l'emploi pour am√©liorer les sites statiques¬†:\n\n- Analytique\n  - Google Analytics\n  - Plausible Analytics\n  - Simple Analytics\n  - Umami Analytics\n  - Posthog\n- Commentaires\n  - Disqus\n  - Giscus\n  - Utterances\n- Newsletter (utilise l'API de routage de Next 13 )\n  - Buttondown\n  - Convertkit\n  - Email Octopus\n  - Klaviyo\n  - Mailchimp\n  - Revue\n- Recherche de palette de commandes avec feuille de style tailwind\n  - Algolia\n  - Kbar (local search)\n- Composants utilitaires de l'interface utilisateur\n  - Bleed\n  - Newsletter / Blog Newsletter\n  - Pre / Code block\n  - Table of Contents\n\nChoisissez votre service pr√©f√©r√© en modifiant ¬´ siteMetadata.js ¬ª et en changeant les champs appropri√©s. Par exemple pour passer d'Umami Analytics √† Plausible, on peut modifier les champs suivants :\n\n```diff-js:siteMetadata.js\nanalytics: {\n-   umamiAnalytics: {\n-     // We use an env variable for this site to avoid other users cloning our analytics ID\n-     umamiWebsiteId: process.env.NEXT_UMAMI_ID, // e.g. 123e4567-e89b-12d3-a456-426614174000\n-   },\n+    plausibleAnalytics: {\n+      plausibleDataDomain: '', // e.g. tailwind-nextjs-starter-blog.vercel.app\n+    },\n},\n```\n\nLes modifications apport√©es au fichier de configuration sont automatiquement propag√©es aux composants. Aucune modification du mod√®le n'est requise.\n\nSous le capot, Pliny exporte des composants de haut niveau tels que `<Analytics AnalyticsConfig={analyticsConfig}/>` et `<Comments commentsConfig={commentsConfig}/>` qui int√®grent un objet de configuration et restituent le composant appropri√©. √âtant donn√© que les mises en page sont d√©finies c√¥t√© serveur, Next.js est capable d'utiliser l'objet de configuration pour d√©terminer quel composant restituer et envoyer uniquement le paquet de composants requis au client.\n\n## Nouveau composant de recherche\n\nQu'est-ce qu'un blog en 2023 sans barre de recherche avec palette de commandes?\n\nL'une des fonctionnalit√©s les plus demand√©es a √©t√© ajout√©e üéâ! Le composant de recherche prend en charge 2 fournisseurs de recherche: Algolia et la recherche locale avec Kbar.\n\n### Algolia\n\n[Algolia Docsearch](https://docsearch.algolia.com/) est un service gratuit populaire utilis√© sur de nombreux sites Web de documentation. Il supprime automatiquement le site Web soumis √† l'indexation et rend le r√©sultat de la recherche disponible via une belle bo√Æte de dialogue modale. Le composant Pliny s'inspire grandement de l'impl√©mentation de Docusaurus et est livr√© avec une feuille de style compatible avec le th√®me CSS Tailwind.\n\n### Kbar\n\n[Kbar](https://github.com/timc1/kbar) est une interface cmd+k rapide, portable et extensible. L'impl√©mentation de Pliny utilise kbar pour cr√©er une bo√Æte de dialogue de recherche locale. Le composant charge un fichier JSON, ¬´ search.json ¬ª par d√©faut, qui a √©t√© cr√©√© lors du processus de cr√©ation de la couche de contenu. Essayez d'appuyer sur ‚åò-k ou ctrl-k pour voir la barre de recherche en action¬†!\n\n## Mises √† jour du style et de la mise en page\n\n### Th√®me\n\n`tailwind.config.js` a √©t√© mis √† jour pour utiliser les valeurs par d√©faut de la typographie tailwind lorsque cela est possible et pour utiliser la prise en charge int√©gr√©e du mode sombre via la classe `prose-invert`. Cela remplace la classe et la configuration ¬´ prose-dark ¬ª pr√©c√©dentes.\n\nLa couleur du th√®me principal est mise √† jour de ¬´ teal ¬ª √† ¬´ pink ¬ª et le th√®me gris principal de ¬´ neutral ¬ª √† ¬´ gray ¬ª.\n\nInter est d√©sormais remplac√© par Space Grotesk comme police par d√©faut.\n\n### Nouvelles mises en page\n\nLes composants de mise en page disponibles dans le r√©pertoire ¬´ layouts ¬ª fournissent un moyen simple de personnaliser l'apparence du blog.[^2]\n\nL'inconv√©nient de cr√©er un mod√®le populaire est que vous commencez √† voir plusieurs sites similaires partout üòÜ. Bien que les utilisateurs soient encourag√©s √† personnaliser les mises en page √† leur guise, le fait de disposer de plus d'options de mise en page facilement commutables favorise la diversit√© et peut peut-√™tre constituer un bon point de d√©part pour des personnalisations suppl√©mentaires.\n\nDans la v2, j'ai ajout√© une nouvelle mise en page de publication - `PostBanner`. Il comporte une grande image de banni√®re et un conteneur de contenu centr√©. Consultez le billet de blog ¬´¬†[Photos du Canada](/blog/images-du-canada)¬†¬ª qui a √©t√© mis √† jour pour utiliser la nouvelle mise en page.\n\nLa pr√©sentation par d√©faut de la liste des blogs a √©galement √©t√© mise √† jour pour inclure une barre lat√©rale avec des balises de blog. La barre de recherche dans la pr√©sentation pr√©c√©dente a √©t√© remplac√©e par la nouvelle recherche par palette de commandes. Pour revenir √† l'ancienne mise en page, remplacez simplement les pages qui utilisent le composant `ListLayoutWithTags` par la `ListLayout` d'origine.\n\n## Recommandations de migration\n\nEn raison des changements importants dans la structure des r√©pertoires, la configuration et les outils, je recommande de partir d'un nouveau mod√®le et de copier le contenu existant, puis de migrer progressivement les modifications vers le nouveau mod√®le.\n\nLes modifications de style doivent √™tre relativement mineures et peuvent √™tre copi√©es de l'ancien ¬´ tailwind.config.js ¬ª vers le nouveau. En cas de copie, vous devrez peut-√™tre rajouter la classe ¬´ prose-dark ¬ª aux composants qui optent pour le style typographique tailwind. Modifiez l'importation de polices dans le composant de mise en page racine pour utiliser la police souhait√©e.\n\nLes modifications apport√©es au pipeline et au sch√©ma de traitement MDX peuvent √™tre facilement transf√©r√©es vers la nouvelle configuration Contentlayer. S'il y a des modifications dans les champs frontmatter, vous pouvez modifier le type de document dans ¬´ contentlayer.config.ts ¬ª pour inclure les nouveaux champs. Des plugins personnalis√©s peuvent √™tre ajout√©s aux propri√©t√©s `remarkPlugins` et `rehypePlugins` dans l'exportation `makeSource` de `contentlayer.config.ts`.\n\nLes mises en page Markdown ne proviennent plus automatiquement du r√©pertoire ¬´ layouts ¬ª. Au lieu de cela, ils doivent √™tre sp√©cifi√©s dans l'objet `layouts` d√©fini dans `blog/[...slug]/page.tsx`.[^3]\n\nPour porter sur des composants ou des pages plus grandes, je recommande d'abord de le sp√©cifier en tant que composant client en utilisant la directive `\"use client\"`. Une fois le rendu correct, vous pouvez diviser les composants interactifs (parties qui reposent sur des hooks ¬´use¬ª) en tant que composant client et conserver le code restant en tant que composant serveur. Consultez le [guide de migration] Next.js complet (https://nextjs.org/docs/app/building-your-application/upgrading/app-router-migration#migrating-from-pages-to-app) pour plus de d√©tails .\n\n## Conclusion\n\nJ'esp√®re que vous appr√©cierez les nouvelles fonctionnalit√©s et am√©liorations de la V2. Si vous avez des commentaires ou des suggestions, n'h√©sitez pas √† ouvrir un probl√®me ou √† me contacter sur [Twitter](https://twitter.com/timlrx).\n\n## Support\n\nVous utilisez le mod√®le? Soutenez cet effort en attribuant une √©toile sur GitHub, en partageant votre propre blog et en criant sur Twitter ou en devenant un [sponsor] du projet (https://github.com/sponsors/timlrx).\n\n## Licence\n\n[MIT](https://github.com/timlrx/tailwind-nextjs-starter-blog/blob/main/LICENSE) ¬© [Timothy Lin](https://www.timrlx.com)\n\n[^1]: La version pr√©c√©dente injecte Preact dans la version de production. Cependant, cela n'est plus possible car il ne prend pas en charge les composants React Server. Alors que la taille globale du bundle a augment√© jusqu'√† environ 85 Ko, la plupart du contenu peut √™tre pr√©-rendu c√¥t√© serveur, ce qui se traduit par un premier rendu de contenu et un temps d'interactivit√© faibles. L'utilisation globale de React conduit √©galement √† un comportement plus coh√©rent avec les biblioth√®ques et les composants externes.\n[^2]: Ceci est diff√©rent des mises en page du r√©pertoire d'applications Next.js et est mieux consid√©r√© comme des composants React r√©utilisables.\n[^3]: Cela tire parti des composants serveur en simplifiant la sp√©cification de la mise en page de votre choix dans le fichier markdown et la comparaison avec l'objet `layouts` qui est ensuite utilis√© pour restituer le composant de mise en page appropri√©.\n",
    "code": "var Component=(()=>{var u=Object.create;var i=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var N=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),k=(a,e)=>{for(var s in e)i(a,s,{get:e[s],enumerable:!0})},o=(a,e,s,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let t of h(e))!f.call(a,t)&&t!==s&&i(a,t,{get:()=>e[t],enumerable:!(r=m(e,t))||r.enumerable});return a};var v=(a,e,s)=>(s=a!=null?u(g(a)):{},o(e||!a||!a.__esModule?i(s,\"default\",{value:a,enumerable:!0}):s,a)),b=a=>o(i({},\"__esModule\",{value:!0}),a);var c=N((q,l)=>{l.exports=_jsx_runtime});var j={};k(j,{default:()=>p,frontmatter:()=>y});var n=v(c()),y={title:\"Pr\\xE9sentation du Starter Blog Tailwind Next-js V 2.0\",date:\"2023-08-05\",lastmod:\"2023-08-05\",language:\"fr\",localeid:\"releasev2\",categories:[\"code\"],tags:[\"next-js\",\"tailwind\",\"guide\",\"fonctionnalites\"],image:\"/images/image-placeholder.png\",draft:!1,summary:\"Pr\\xE9sentation du mod\\xE8le Starter Blog Tailwind Next-js v2.0, refactoris\\xE9 avec le r\\xE9pertoire Nextjs App et la configuration des composants React Server. D\\xE9couvrez les nouvelles fonctionnalit\\xE9s et comment migrer \\xE0 partir de la V1.\"};function d(a){let e={a:\"a\",code:\"code\",div:\"div\",h2:\"h2\",h3:\"h3\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",section:\"section\",span:\"span\",sup:\"sup\",ul:\"ul\",...a.components},{TOCInline:s}=e;return s||x(\"TOCInline\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"introduction\",children:[(0,n.jsx)(e.a,{href:\"#introduction\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Introduction\"]}),(0,n.jsx)(e.p,{children:\"Bienvenue dans le nouveau mod\\xE8le de Starter Blog Tailwind Nextjs v2.0. Cette version est une refactorisation majeure de la base de code pour prendre en charge le r\\xE9pertoire Nextjs App et les composants React Server. Lisez la suite pour d\\xE9couvrir les nouvelles fonctionnalit\\xE9s et comment migrer depuis la V1.\"}),(0,n.jsx)(s,{toc:a.toc,exclude:\"Introduction\"}),(0,n.jsxs)(e.h2,{id:\"de-la-v1-\\xE0-la-v2\",children:[(0,n.jsx)(e.a,{href:\"#de-la-v1-\\xE0-la-v2\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"De la V1 \\xE0 la V2\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Github Traffic\",src:\"images/blog/github-traffic.png\"})}),(0,n.jsxs)(e.p,{children:[\"Le mod\\xE8le a \\xE9t\\xE9 publi\\xE9 pour la premi\\xE8re fois en janvier 2021 et a depuis \\xE9t\\xE9 utilis\\xE9 par des milliers d'utilisateurs. Il a \\xE9t\\xE9 pr\\xE9sent\\xE9 sur \",(0,n.jsx)(e.a,{href:\"https://vercel.com/templates/next.js/tailwind-css-starter-blog\",children:\"Mod\\xE8les Next.js\"}),\", [Tailwind Awesome](\",(0,n.jsx)(e.a,{href:\"https://www.tailwindawesome.com/resources\",children:\"https://www.tailwindawesome.com/resources\"}),\" /tailwind-nextjs-starter-blog) parmi d'autres sites de r\\xE9f\\xE9rencement. Il attire chaque jour plus de 200 visiteurs uniques, avec entre 1 500 et 2 000 pages vues, avec 13 000 forks et de nombreux autres clones.\"]}),(0,n.jsx)(e.p,{children:\"Un grand merci \\xE0 la communaut\\xE9 d'utilisateurs et de contributeurs pour avoir fait de ce mod\\xE8le un succ\\xE8s ! J'ai cr\\xE9\\xE9 un petit montage vid\\xE9o des blogs (tout en nettoyant la liste dans le readme) pour mettre en valeur la diversit\\xE9 des blogs cr\\xE9\\xE9s gr\\xE2ce au mod\\xE8le et c\\xE9l\\xE9brer cette \\xE9tape importante:\"}),(0,n.jsx)(\"video\",{controls:!0,children:(0,n.jsx)(\"source\",{src:\"https://github-production-user-asset-6210df.s3.amazonaws.com/28362229/258559849-2124c81f-b99d-4431-839c-347e01a2616c.webm\",type:\"video/webm\"})}),(0,n.jsx)(e.p,{children:`La version 2 s'appuie sur le succ\\xE8s de la version pr\\xE9c\\xE9dente et introduit de nombreuses nouvelles fonctionnalit\\xE9s et am\\xE9liorations. La base de code a \\xE9t\\xE9 refactoris\\xE9e pour prendre en charge l'app router de Next.js et les composants React server. Markdown / MDX est d\\xE9sormais trait\\xE9 \\xE0 l'aide de Contentlayer, un SDK de contenu \"typesafe\" gr\\xE2ce \\xE0 typescript, qui valide et transforme votre contenu en donn\\xE9es JSON de type s\\xE9curis\\xE9. Il s'int\\xE8gre \\xE0 Pliny, une nouvelle biblioth\\xE8que qui fournit des composants Next.js pr\\xEAts \\xE0 l'emploi pour am\\xE9liorer votre site statique avec des analyses, des commentaires et un abonnement \\xE0 la newsletter. Un nouveau composant de recherche avec palette de commandes (\\u2318-k) a \\xE9galement \\xE9t\\xE9 ajout\\xE9 au mod\\xE8le.`}),(0,n.jsx)(e.p,{children:\"Plongeons dans les nouvelles fonctionnalit\\xE9s et am\\xE9liorations de la V2.\"}),(0,n.jsxs)(e.h2,{id:\"r\\xE9pertoire-dapplication-nextjs-et-composants-server-react\",children:[(0,n.jsx)(e.a,{href:\"#r\\xE9pertoire-dapplication-nextjs-et-composants-server-react\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"R\\xE9pertoire d'application Next.js et composants Server React\"]}),(0,n.jsxs)(e.p,{children:[\"Maintenant que l'\",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/app\",children:\"app router de Next.js\"}),\" est enfin stable et est principalement compatible avec Page Router, la base de code a \\xE9t\\xE9 migr\\xE9e vers une nouvelle configuration. Cela permet une approche de rendu hybride, avec l'utilisation de composants React Server g\\xE9n\\xE9r\\xE9s c\\xF4t\\xE9 serveur pour des chargements de pages plus rapides et des tailles de bundle plus petites, tout en conservant la possibilit\\xE9 d'int\\xE9grer les composants React c\\xF4t\\xE9 client pour l'interactivit\\xE9.\",(0,n.jsx)(e.sup,{children:(0,n.jsx)(e.a,{href:\"#user-content-fn-1\",\"aria-describedby\":\"footnote-label\",\"data-footnote-ref\":!0,id:\"user-content-fnref-1\",children:\"1\"})})]}),(0,n.jsxs)(e.p,{children:[\"Avec des possibilit\\xE9s suppl\\xE9mentaires survient un \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/getting-started/react-essentials\",children:\"nouveau paradigme\"}),\" et son lot d'apprentissage. J'ai migr\\xE9 la base de code pour utiliser au maximum les nouvelles fonctionnalit\\xE9s. Cela inclut des modifications dans la structure des dossiers, la division des composants en composants serveur et clients, l'exploitation de la r\\xE9cup\\xE9ration de donn\\xE9es c\\xF4t\\xE9 serveur et l'utilisation des [m\\xE9tadonn\\xE9es] recommand\\xE9es (\",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/app/building-your-application/optimizing/metadata\",children:\"https://nextjs.org/docs/app/building-your-application/optimizing/metadata\"}),\" ), API pour le SEO.\"]}),(0,n.jsxs)(e.p,{children:[\"Bien que cela simplifie dans une certaine mesure la base de code, cela rend aussi la migration \\xE0 partir de l'ancienne base de code plus difficile. Si vous souhaitez migrer, je vous recommande de partir d'un nouveau mod\\xE8le et de copier vos personnalisations et votre contenu existant. Consultez la section \",(0,n.jsx)(e.a,{href:\"#migration-recommendations\",children:\"recommandations de migration\"}),\" pour plus de d\\xE9tails.\"]}),(0,n.jsxs)(e.h2,{id:\"typescript-first\",children:[(0,n.jsx)(e.a,{href:\"#typescript-first\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Typescript First\"]}),(0,n.jsx)(e.p,{children:\"La base de code a \\xE9t\\xE9 migr\\xE9e vers Typescript. Alors que la version pr\\xE9c\\xE9dente du mod\\xE8le \\xE9tait disponible en Javascript et Typescript, j'ai d\\xE9cid\\xE9 de r\\xE9duire la charge de maintenance et de me concentrer sur Typescript. Cela permet \\xE9galement une meilleure v\\xE9rification de type et une meilleure compl\\xE9tion du code dans les IDE.\"}),(0,n.jsx)(e.p,{children:\"Typescript correspond \\xE9galement parfaitement \\xE0 notre nouveau processeur remark s\\xE9curis\\xE9 - Contentlayer.\"}),(0,n.jsxs)(e.h2,{id:\"contentlayer\",children:[(0,n.jsx)(e.a,{href:\"#contentlayer\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Contentlayer\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://www.contentlayer.dev/\",children:\"Contentlayer\"}),\" est un SDK de contenu qui valide et transforme votre contenu en donn\\xE9es JSON de type s\\xE9curis\\xE9 que vous pouvez facilement importer dans votre application. Cela facilite le travail avec des fichiers markdown locaux ou MDX. Cela permets de remplacer \\xABMDX-bundler\\xBB et notre propre workflow de traitement markdown.\"]}),(0,n.jsx)(e.p,{children:\"Tout d'abord, une source de contenu est d\\xE9finie, sp\\xE9cifiant le nom du type de document, la source o\\xF9 il se trouve ainsi que les champs de premier plan et tous les champs calcul\\xE9s suppl\\xE9mentaires qui doivent \\xEAtre g\\xE9n\\xE9r\\xE9s dans le cadre du processus.\"}),(0,n.jsx)(e.div,{className:\"remark-code-title\",children:\"contentlayer.config.ts\"}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-ts\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" Blog \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"defineDocumentType\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  name\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'Blog'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  filePathPattern\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'blog/**/*.mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  contentType\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  fields\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    title\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" required\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    date\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'date'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" required\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    tags\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'list'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"of\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"...\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  computedFields\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    readingTime\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'json'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"resolve\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"doc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"readingTime\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"doc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"raw\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    slug\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"resolve\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"doc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" doc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"_raw\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"flattenedPath\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"replace\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token regex\",children:[(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,n.jsxs)(e.span,{className:\"token language-regex regex-source\",children:[(0,n.jsx)(e.span,{className:\"token function anchor\",children:\"^\"}),(0,n.jsx)(e.span,{className:\"token char-set class-name\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token number quantifier\",children:\"+?\"}),(0,n.jsx)(e.span,{className:\"token punctuation group\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token escape\",children:\"\\\\/\"}),(0,n.jsx)(e.span,{className:\"token punctuation group\",children:\")\"})]}),(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"...\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"Contentlayer traite ensuite les fichiers MDX avec les plugins de Remark ou de Rehype de markdown souhait\\xE9s, valide le sch\\xE9ma, g\\xE9n\\xE8re des d\\xE9finitions de type et g\\xE9n\\xE8re des fichiers json qui peuvent \\xEAtre facilement import\\xE9s dans nos pages. Le rechargement \\xE0 chaud est pr\\xEAt \\xE0 l'emploi, de sorte que les modifications apport\\xE9es aux fichiers markdown seront imm\\xE9diatement refl\\xE9t\\xE9es dans le navigateur!\"}),(0,n.jsxs)(e.h2,{id:\"pliny\",children:[(0,n.jsx)(e.a,{href:\"#pliny\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Pliny\"]}),(0,n.jsx)(e.p,{children:\"La popularit\\xE9 du mod\\xE8le s'explique en grande partie par sa personnalisation et son int\\xE9gration avec d'autres services, des fournisseurs d'analyse aux solutions de commentaires. Cependant, cela signifie qu'une grande partie du code passe-partout doit \\xEAtre colocalis\\xE9 dans le mod\\xE8le m\\xEAme si l'utilisateur n'utilise pas la fonctionnalit\\xE9. Les mises \\xE0 jour et les corrections de bugs devaient \\xEAtre copi\\xE9es manuellement dans la base de code de l'utilisateur.\"}),(0,n.jsxs)(e.p,{children:[\"Pour r\\xE9soudre ce probl\\xE8me, j'ai r\\xE9sum\\xE9 la logique dans un r\\xE9pertoire s\\xE9par\\xE9 - \",(0,n.jsx)(e.a,{href:\"https://github.com/timlrx/pliny\",children:\"Pline\"}),\". Pliny fournit des composants Next.js pr\\xEAts \\xE0 l'emploi pour am\\xE9liorer les sites statiques\\xA0:\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"Analytique\",(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"Google Analytics\"}),(0,n.jsx)(e.li,{children:\"Plausible Analytics\"}),(0,n.jsx)(e.li,{children:\"Simple Analytics\"}),(0,n.jsx)(e.li,{children:\"Umami Analytics\"}),(0,n.jsx)(e.li,{children:\"Posthog\"})]})]}),(0,n.jsxs)(e.li,{children:[\"Commentaires\",(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"Disqus\"}),(0,n.jsx)(e.li,{children:\"Giscus\"}),(0,n.jsx)(e.li,{children:\"Utterances\"})]})]}),(0,n.jsxs)(e.li,{children:[\"Newsletter (utilise l'API de routage de Next 13 )\",(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"Buttondown\"}),(0,n.jsx)(e.li,{children:\"Convertkit\"}),(0,n.jsx)(e.li,{children:\"Email Octopus\"}),(0,n.jsx)(e.li,{children:\"Klaviyo\"}),(0,n.jsx)(e.li,{children:\"Mailchimp\"}),(0,n.jsx)(e.li,{children:\"Revue\"})]})]}),(0,n.jsxs)(e.li,{children:[\"Recherche de palette de commandes avec feuille de style tailwind\",(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"Algolia\"}),(0,n.jsx)(e.li,{children:\"Kbar (local search)\"})]})]}),(0,n.jsxs)(e.li,{children:[\"Composants utilitaires de l'interface utilisateur\",(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"Bleed\"}),(0,n.jsx)(e.li,{children:\"Newsletter / Blog Newsletter\"}),(0,n.jsx)(e.li,{children:\"Pre / Code block\"}),(0,n.jsx)(e.li,{children:\"Table of Contents\"})]})]})]}),(0,n.jsx)(e.p,{children:\"Choisissez votre service pr\\xE9f\\xE9r\\xE9 en modifiant \\xAB siteMetadata.js \\xBB et en changeant les champs appropri\\xE9s. Par exemple pour passer d'Umami Analytics \\xE0 Plausible, on peut modifier les champs suivants :\"}),(0,n.jsx)(e.div,{className:\"remark-code-title\",children:\"siteMetadata.js\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-diff-js\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"analytics\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line deleted\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"   umamiAnalytics\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line deleted\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"     \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// We use an env variable for this site to avoid other users cloning our analytics ID\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line deleted\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"     umamiWebsiteId\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" process\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"env\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"NEXT_UMAMI_ID\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// e.g. 123e4567-e89b-12d3-a456-426614174000\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line deleted\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"   \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line inserted\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\"    plausibleAnalytics\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line inserted\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\"      plausibleDataDomain\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// e.g. tailwind-nextjs-starter-blog.vercel.app\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line inserted\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"Les modifications apport\\xE9es au fichier de configuration sont automatiquement propag\\xE9es aux composants. Aucune modification du mod\\xE8le n'est requise.\"}),(0,n.jsxs)(e.p,{children:[\"Sous le capot, Pliny exporte des composants de haut niveau tels que \",(0,n.jsx)(e.code,{children:\"<Analytics AnalyticsConfig={analyticsConfig}/>\"}),\" et \",(0,n.jsx)(e.code,{children:\"<Comments commentsConfig={commentsConfig}/>\"}),\" qui int\\xE8grent un objet de configuration et restituent le composant appropri\\xE9. \\xC9tant donn\\xE9 que les mises en page sont d\\xE9finies c\\xF4t\\xE9 serveur, Next.js est capable d'utiliser l'objet de configuration pour d\\xE9terminer quel composant restituer et envoyer uniquement le paquet de composants requis au client.\"]}),(0,n.jsxs)(e.h2,{id:\"nouveau-composant-de-recherche\",children:[(0,n.jsx)(e.a,{href:\"#nouveau-composant-de-recherche\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Nouveau composant de recherche\"]}),(0,n.jsx)(e.p,{children:\"Qu'est-ce qu'un blog en 2023 sans barre de recherche avec palette de commandes?\"}),(0,n.jsx)(e.p,{children:\"L'une des fonctionnalit\\xE9s les plus demand\\xE9es a \\xE9t\\xE9 ajout\\xE9e \\u{1F389}! Le composant de recherche prend en charge 2 fournisseurs de recherche: Algolia et la recherche locale avec Kbar.\"}),(0,n.jsxs)(e.h3,{id:\"algolia\",children:[(0,n.jsx)(e.a,{href:\"#algolia\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Algolia\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://docsearch.algolia.com/\",children:\"Algolia Docsearch\"}),\" est un service gratuit populaire utilis\\xE9 sur de nombreux sites Web de documentation. Il supprime automatiquement le site Web soumis \\xE0 l'indexation et rend le r\\xE9sultat de la recherche disponible via une belle bo\\xEEte de dialogue modale. Le composant Pliny s'inspire grandement de l'impl\\xE9mentation de Docusaurus et est livr\\xE9 avec une feuille de style compatible avec le th\\xE8me CSS Tailwind.\"]}),(0,n.jsxs)(e.h3,{id:\"kbar\",children:[(0,n.jsx)(e.a,{href:\"#kbar\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Kbar\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/timc1/kbar\",children:\"Kbar\"}),\" est une interface cmd+k rapide, portable et extensible. L'impl\\xE9mentation de Pliny utilise kbar pour cr\\xE9er une bo\\xEEte de dialogue de recherche locale. Le composant charge un fichier JSON, \\xAB search.json \\xBB par d\\xE9faut, qui a \\xE9t\\xE9 cr\\xE9\\xE9 lors du processus de cr\\xE9ation de la couche de contenu. Essayez d'appuyer sur \\u2318-k ou ctrl-k pour voir la barre de recherche en action\\xA0!\"]}),(0,n.jsxs)(e.h2,{id:\"mises-\\xE0-jour-du-style-et-de-la-mise-en-page\",children:[(0,n.jsx)(e.a,{href:\"#mises-\\xE0-jour-du-style-et-de-la-mise-en-page\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Mises \\xE0 jour du style et de la mise en page\"]}),(0,n.jsxs)(e.h3,{id:\"th\\xE8me\",children:[(0,n.jsx)(e.a,{href:\"#th\\xE8me\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Th\\xE8me\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"tailwind.config.js\"}),\" a \\xE9t\\xE9 mis \\xE0 jour pour utiliser les valeurs par d\\xE9faut de la typographie tailwind lorsque cela est possible et pour utiliser la prise en charge int\\xE9gr\\xE9e du mode sombre via la classe \",(0,n.jsx)(e.code,{children:\"prose-invert\"}),\". Cela remplace la classe et la configuration \\xAB prose-dark \\xBB pr\\xE9c\\xE9dentes.\"]}),(0,n.jsx)(e.p,{children:\"La couleur du th\\xE8me principal est mise \\xE0 jour de \\xAB teal \\xBB \\xE0 \\xAB pink \\xBB et le th\\xE8me gris principal de \\xAB neutral \\xBB \\xE0 \\xAB gray \\xBB.\"}),(0,n.jsx)(e.p,{children:\"Inter est d\\xE9sormais remplac\\xE9 par Space Grotesk comme police par d\\xE9faut.\"}),(0,n.jsxs)(e.h3,{id:\"nouvelles-mises-en-page\",children:[(0,n.jsx)(e.a,{href:\"#nouvelles-mises-en-page\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Nouvelles mises en page\"]}),(0,n.jsxs)(e.p,{children:[\"Les composants de mise en page disponibles dans le r\\xE9pertoire \\xAB layouts \\xBB fournissent un moyen simple de personnaliser l'apparence du blog.\",(0,n.jsx)(e.sup,{children:(0,n.jsx)(e.a,{href:\"#user-content-fn-2\",\"aria-describedby\":\"footnote-label\",\"data-footnote-ref\":!0,id:\"user-content-fnref-2\",children:\"2\"})})]}),(0,n.jsx)(e.p,{children:\"L'inconv\\xE9nient de cr\\xE9er un mod\\xE8le populaire est que vous commencez \\xE0 voir plusieurs sites similaires partout \\u{1F606}. Bien que les utilisateurs soient encourag\\xE9s \\xE0 personnaliser les mises en page \\xE0 leur guise, le fait de disposer de plus d'options de mise en page facilement commutables favorise la diversit\\xE9 et peut peut-\\xEAtre constituer un bon point de d\\xE9part pour des personnalisations suppl\\xE9mentaires.\"}),(0,n.jsxs)(e.p,{children:[\"Dans la v2, j'ai ajout\\xE9 une nouvelle mise en page de publication - \",(0,n.jsx)(e.code,{children:\"PostBanner\"}),\". Il comporte une grande image de banni\\xE8re et un conteneur de contenu centr\\xE9. Consultez le billet de blog \\xAB\\xA0\",(0,n.jsx)(e.a,{href:\"/blog/images-du-canada\",children:\"Photos du Canada\"}),\"\\xA0\\xBB qui a \\xE9t\\xE9 mis \\xE0 jour pour utiliser la nouvelle mise en page.\"]}),(0,n.jsxs)(e.p,{children:[\"La pr\\xE9sentation par d\\xE9faut de la liste des blogs a \\xE9galement \\xE9t\\xE9 mise \\xE0 jour pour inclure une barre lat\\xE9rale avec des balises de blog. La barre de recherche dans la pr\\xE9sentation pr\\xE9c\\xE9dente a \\xE9t\\xE9 remplac\\xE9e par la nouvelle recherche par palette de commandes. Pour revenir \\xE0 l'ancienne mise en page, remplacez simplement les pages qui utilisent le composant \",(0,n.jsx)(e.code,{children:\"ListLayoutWithTags\"}),\" par la \",(0,n.jsx)(e.code,{children:\"ListLayout\"}),\" d'origine.\"]}),(0,n.jsxs)(e.h2,{id:\"recommandations-de-migration\",children:[(0,n.jsx)(e.a,{href:\"#recommandations-de-migration\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Recommandations de migration\"]}),(0,n.jsx)(e.p,{children:\"En raison des changements importants dans la structure des r\\xE9pertoires, la configuration et les outils, je recommande de partir d'un nouveau mod\\xE8le et de copier le contenu existant, puis de migrer progressivement les modifications vers le nouveau mod\\xE8le.\"}),(0,n.jsx)(e.p,{children:\"Les modifications de style doivent \\xEAtre relativement mineures et peuvent \\xEAtre copi\\xE9es de l'ancien \\xAB tailwind.config.js \\xBB vers le nouveau. En cas de copie, vous devrez peut-\\xEAtre rajouter la classe \\xAB prose-dark \\xBB aux composants qui optent pour le style typographique tailwind. Modifiez l'importation de polices dans le composant de mise en page racine pour utiliser la police souhait\\xE9e.\"}),(0,n.jsxs)(e.p,{children:[\"Les modifications apport\\xE9es au pipeline et au sch\\xE9ma de traitement MDX peuvent \\xEAtre facilement transf\\xE9r\\xE9es vers la nouvelle configuration Contentlayer. S'il y a des modifications dans les champs frontmatter, vous pouvez modifier le type de document dans \\xAB contentlayer.config.ts \\xBB pour inclure les nouveaux champs. Des plugins personnalis\\xE9s peuvent \\xEAtre ajout\\xE9s aux propri\\xE9t\\xE9s \",(0,n.jsx)(e.code,{children:\"remarkPlugins\"}),\" et \",(0,n.jsx)(e.code,{children:\"rehypePlugins\"}),\" dans l'exportation \",(0,n.jsx)(e.code,{children:\"makeSource\"}),\" de \",(0,n.jsx)(e.code,{children:\"contentlayer.config.ts\"}),\".\"]}),(0,n.jsxs)(e.p,{children:[\"Les mises en page Markdown ne proviennent plus automatiquement du r\\xE9pertoire \\xAB layouts \\xBB. Au lieu de cela, ils doivent \\xEAtre sp\\xE9cifi\\xE9s dans l'objet \",(0,n.jsx)(e.code,{children:\"layouts\"}),\" d\\xE9fini dans \",(0,n.jsx)(e.code,{children:\"blog/[...slug]/page.tsx\"}),\".\",(0,n.jsx)(e.sup,{children:(0,n.jsx)(e.a,{href:\"#user-content-fn-3\",\"aria-describedby\":\"footnote-label\",\"data-footnote-ref\":!0,id:\"user-content-fnref-3\",children:\"3\"})})]}),(0,n.jsxs)(e.p,{children:[\"Pour porter sur des composants ou des pages plus grandes, je recommande d'abord de le sp\\xE9cifier en tant que composant client en utilisant la directive \",(0,n.jsx)(e.code,{children:'\"use client\"'}),\". Une fois le rendu correct, vous pouvez diviser les composants interactifs (parties qui reposent sur des hooks \\xABuse\\xBB) en tant que composant client et conserver le code restant en tant que composant serveur. Consultez le [guide de migration] Next.js complet (\",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/app/building-your-application/upgrading/app-router-migration#migrating-from-pages-to-app\",children:\"https://nextjs.org/docs/app/building-your-application/upgrading/app-router-migration#migrating-from-pages-to-app\"}),\") pour plus de d\\xE9tails .\"]}),(0,n.jsxs)(e.h2,{id:\"conclusion\",children:[(0,n.jsx)(e.a,{href:\"#conclusion\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),(0,n.jsxs)(e.p,{children:[\"J'esp\\xE8re que vous appr\\xE9cierez les nouvelles fonctionnalit\\xE9s et am\\xE9liorations de la V2. Si vous avez des commentaires ou des suggestions, n'h\\xE9sitez pas \\xE0 ouvrir un probl\\xE8me ou \\xE0 me contacter sur \",(0,n.jsx)(e.a,{href:\"https://twitter.com/timlrx\",children:\"Twitter\"}),\".\"]}),(0,n.jsxs)(e.h2,{id:\"support\",children:[(0,n.jsx)(e.a,{href:\"#support\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Support\"]}),(0,n.jsxs)(e.p,{children:[\"Vous utilisez le mod\\xE8le? Soutenez cet effort en attribuant une \\xE9toile sur GitHub, en partageant votre propre blog et en criant sur Twitter ou en devenant un [sponsor] du projet (\",(0,n.jsx)(e.a,{href:\"https://github.com/sponsors/timlrx\",children:\"https://github.com/sponsors/timlrx\"}),\").\"]}),(0,n.jsxs)(e.h2,{id:\"licence\",children:[(0,n.jsx)(e.a,{href:\"#licence\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Licence\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/timlrx/tailwind-nextjs-starter-blog/blob/main/LICENSE\",children:\"MIT\"}),\" \\xA9 \",(0,n.jsx)(e.a,{href:\"https://www.timrlx.com\",children:\"Timothy Lin\"})]}),(0,n.jsxs)(e.section,{className:\"footnotes\",\"data-footnotes\":!0,children:[(0,n.jsxs)(e.h2,{id:\"footnote-label\",className:\"sr-only\",children:[(0,n.jsx)(e.a,{href:\"#footnote-label\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Footnotes\"]}),(0,n.jsxs)(e.ol,{children:[(0,n.jsx)(e.li,{id:\"user-content-fn-1\",children:(0,n.jsxs)(e.p,{children:[\"La version pr\\xE9c\\xE9dente injecte Preact dans la version de production. Cependant, cela n'est plus possible car il ne prend pas en charge les composants React Server. Alors que la taille globale du bundle a augment\\xE9 jusqu'\\xE0 environ 85 Ko, la plupart du contenu peut \\xEAtre pr\\xE9-rendu c\\xF4t\\xE9 serveur, ce qui se traduit par un premier rendu de contenu et un temps d'interactivit\\xE9 faibles. L'utilisation globale de React conduit \\xE9galement \\xE0 un comportement plus coh\\xE9rent avec les biblioth\\xE8ques et les composants externes. \",(0,n.jsx)(e.a,{href:\"#user-content-fnref-1\",\"aria-label\":\"Back to reference 1\",className:\"data-footnote-backref\",\"data-footnote-backref\":\"\",children:\"\\u21A9\"})]})}),(0,n.jsx)(e.li,{id:\"user-content-fn-2\",children:(0,n.jsxs)(e.p,{children:[\"Ceci est diff\\xE9rent des mises en page du r\\xE9pertoire d'applications Next.js et est mieux consid\\xE9r\\xE9 comme des composants React r\\xE9utilisables. \",(0,n.jsx)(e.a,{href:\"#user-content-fnref-2\",\"aria-label\":\"Back to reference 2\",className:\"data-footnote-backref\",\"data-footnote-backref\":\"\",children:\"\\u21A9\"})]})}),(0,n.jsx)(e.li,{id:\"user-content-fn-3\",children:(0,n.jsxs)(e.p,{children:[\"Cela tire parti des composants serveur en simplifiant la sp\\xE9cification de la mise en page de votre choix dans le fichier markdown et la comparaison avec l'objet \",(0,n.jsx)(e.code,{children:\"layouts\"}),\" qui est ensuite utilis\\xE9 pour restituer le composant de mise en page appropri\\xE9. \",(0,n.jsx)(e.a,{href:\"#user-content-fnref-3\",\"aria-label\":\"Back to reference 3\",className:\"data-footnote-backref\",\"data-footnote-backref\":\"\",children:\"\\u21A9\"})]})})]})]})]})}function p(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}function x(a,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return b(j);})();\n;return Component;"
  },
  "_id": "presentation-starter-blog-tailwind-nextjs-v2.0.mdx",
  "_raw": {
    "sourceFilePath": "presentation-starter-blog-tailwind-nextjs-v2.0.mdx",
    "sourceFileName": "presentation-starter-blog-tailwind-nextjs-v2.0.mdx",
    "sourceFileDir": ".",
    "contentType": "mdx",
    "flattenedPath": "presentation-starter-blog-tailwind-nextjs-v2.0"
  },
  "type": "Blog",
  "readingTime": "7 Minutes",
  "slug": "presentation-starter-blog-tailwind-nextjs-v2.0",
  "path": "presentation-starter-blog-tailwind-nextjs-v2.0",
  "filePath": "presentation-starter-blog-tailwind-nextjs-v2.0.mdx",
  "toc": [
    {
      "value": "Introduction",
      "url": "#introduction-10",
      "depth": 2
    },
    {
      "value": "De la V1 √† la V2",
      "url": "#de-la-v1-√†-la-v2",
      "depth": 2
    },
    {
      "value": "R√©pertoire d'application Next.js et composants Server React",
      "url": "#r√©pertoire-dapplication-nextjs-et-composants-server-react",
      "depth": 2
    },
    {
      "value": "Typescript First",
      "url": "#typescript-first",
      "depth": 2
    },
    {
      "value": "Contentlayer",
      "url": "#contentlayer",
      "depth": 2
    },
    {
      "value": "Pliny",
      "url": "#pliny",
      "depth": 2
    },
    {
      "value": "Nouveau composant de recherche",
      "url": "#nouveau-composant-de-recherche",
      "depth": 2
    },
    {
      "value": "Algolia",
      "url": "#algolia",
      "depth": 3
    },
    {
      "value": "Kbar",
      "url": "#kbar",
      "depth": 3
    },
    {
      "value": "Mises √† jour du style et de la mise en page",
      "url": "#mises-√†-jour-du-style-et-de-la-mise-en-page",
      "depth": 2
    },
    {
      "value": "Th√®me",
      "url": "#th√®me",
      "depth": 3
    },
    {
      "value": "Nouvelles mises en page",
      "url": "#nouvelles-mises-en-page",
      "depth": 3
    },
    {
      "value": "Recommandations de migration",
      "url": "#recommandations-de-migration",
      "depth": 2
    },
    {
      "value": "Conclusion",
      "url": "#conclusion",
      "depth": 2
    },
    {
      "value": "Support",
      "url": "#support-1",
      "depth": 2
    },
    {
      "value": "Licence",
      "url": "#licence-2",
      "depth": 2
    }
  ],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Pr√©sentation du Starter Blog Tailwind Next-js V 2.0",
    "datePublished": "2023-08-05T00:00:00.000Z",
    "dateModified": "2023-08-05T00:00:00.000Z",
    "description": "Pr√©sentation du mod√®le Starter Blog Tailwind Next-js v2.0, refactoris√© avec le r√©pertoire Nextjs App et la configuration des composants React Server. D√©couvrez les nouvelles fonctionnalit√©s et comment migrer √† partir de la V1.",
    "image": "/",
    "url": "https://pablo-pikassiet-next-starter-i18n.vercel.app/presentation-starter-blog-tailwind-nextjs-v2.0"
  }
}